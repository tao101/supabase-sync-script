# Supabase Sync Script - Environment Variables

# Mode (ci or interactive)
SYNC_MODE=interactive

# Dry run mode (true/false)
SYNC_DRY_RUN=false

# Verbose logging (true/false)
SYNC_VERBOSE=false

# Temporary directory for dump files
SYNC_TEMP_DIR=/tmp/supabase-sync

# =============================================================================
# SOURCE CONFIGURATION
# =============================================================================

# Database URL (postgresql://user:password@host:port/database)
SOURCE_DB_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# Supabase API URL
SOURCE_API_URL=https://your-project.supabase.co

# API Keys - Use EITHER legacy (service_role) OR new (secret) keys, not both
# Option A: Legacy JWT keys (from Project Settings > API)
SOURCE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SOURCE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Option B: New API keys (sb_secret_/sb_publishable_ format)
# SOURCE_SECRET_KEY=sb_secret_...
# SOURCE_PUBLISHABLE_KEY=sb_publishable_...

# =============================================================================
# TARGET CONFIGURATION
# =============================================================================

# Database URL
TARGET_DB_URL=postgresql://postgres:your-password@your-server.com:5432/postgres

# Supabase API URL
TARGET_API_URL=https://supabase.your-server.com

# API Keys - Use EITHER legacy (service_role) OR new (secret) keys, not both
# Option A: Legacy JWT keys
TARGET_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# TARGET_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Option B: New API keys (sb_secret_/sb_publishable_ format)
# TARGET_SECRET_KEY=sb_secret_...
# TARGET_PUBLISHABLE_KEY=sb_publishable_...

# =============================================================================
# SYNC OPTIONS (optional)
# =============================================================================

# Enable/disable components (true/false)
SYNC_SCHEMA=true
SYNC_DATA=true
SYNC_AUTH=true
SYNC_STORAGE=true
SYNC_ROLES=true

# Storage settings
STORAGE_CONCURRENCY=5
STORAGE_MAX_FILE_SIZE_MB=50
# STORAGE_EXCLUDE_BUCKETS=temp,cache

# Database settings
# DB_INCLUDE_SCHEMAS=public,auth,storage
# DB_EXCLUDE_TABLES=auth.sessions,auth.refresh_tokens
