# Supabase Sync Script - Environment Variables

# Mode (ci or interactive)
SYNC_MODE=interactive

# Dry run mode (true/false)
SYNC_DRY_RUN=false

# Verbose logging (true/false)
SYNC_VERBOSE=false

# Temporary directory for dump files
SYNC_TEMP_DIR=/tmp/supabase-sync

# =============================================================================
# SOURCE CONFIGURATION
# =============================================================================

# Source type: saas | self-hosted | local
SOURCE_TYPE=saas

# For SaaS: Project reference from Supabase dashboard URL
# Example: If your URL is https://abcdefghij.supabase.co, use "abcdefghij"
SOURCE_PROJECT_REF=your-project-ref

# For self-hosted: Host address
# SOURCE_HOST=supabase.example.com

# Database port (default: 5432 for self-hosted, 54322 for local)
SOURCE_PORT=5432

# Database password
SOURCE_DB_PASSWORD=your-database-password

# Service role key (from Project Settings > API)
SOURCE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Optional: Anon key
# SOURCE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Optional: Custom API URL (auto-generated for SaaS)
# SOURCE_API_URL=https://your-project.supabase.co

# Optional: Custom database URL (overrides host/port)
# SOURCE_DB_URL=postgresql://postgres:password@host:5432/postgres

# =============================================================================
# TARGET CONFIGURATION
# =============================================================================

# Target type: self-hosted | local
TARGET_TYPE=self-hosted

# For self-hosted: Host address
TARGET_HOST=supabase.example.com

# Database port
TARGET_PORT=5432

# Database password
TARGET_DB_PASSWORD=your-target-database-password

# Service role key
TARGET_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# API URL (required for self-hosted)
TARGET_API_URL=https://supabase.example.com

# =============================================================================
# SYNC OPTIONS
# =============================================================================

# Enable/disable components (true/false)
SYNC_SCHEMA=true
SYNC_DATA=true
SYNC_AUTH=true
SYNC_STORAGE=true
SYNC_ROLES=true

# Storage settings
STORAGE_CONCURRENCY=5
STORAGE_MAX_FILE_SIZE_MB=50
# STORAGE_EXCLUDE_BUCKETS=temp,cache

# Database settings
# DB_INCLUDE_SCHEMAS=public,auth,storage
# DB_EXCLUDE_TABLES=auth.sessions,auth.refresh_tokens
# DB_EXCLUDE_SCHEMAS=pg_catalog,information_schema
